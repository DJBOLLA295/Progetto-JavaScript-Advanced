(()=>{const e=document.getElementById("form"),t=document.getElementById("category-input"),o=document.getElementById("button"),n=document.getElementById("book-list");[document.getElementById("titolo"),document.getElementById("titolo2")].forEach((e=>e.textContent=e.textContent.toUpperCase()));const r=e=>{e.preventDefault();const o=t.value.trim();o?i(o):alert("Inserisci una categoria valida.")};e.addEventListener("submit",r),o.addEventListener("submit",r);const i=e=>{axios.get(`https://openlibrary.org/subjects/${e.toLowerCase()}.json`).then((e=>a(e.data.works))).catch((()=>alert("Categoria non trovata o errore nel recupero dei dati.")))},a=e=>{n.innerHTML=e.length?e.map((e=>`\n            <div class="book-item">\n                <img src="${e.cover_id?`https://covers.openlibrary.org/b/id/${e.cover_id}-M.jpg`:"img/immagine_disponibile.svg"}" alt="${e.title} Cover" class="book-cover">\n                <h3>${e.title}</h3>\n                <p>Autori: ${e.authors.map((e=>e.name)).join(", ")}</p>\n            </div>\n        `)).join(""):"<p>Nessun libro trovato per questa categoria.</p>",document.querySelectorAll(".book-item").forEach(((t,o)=>{t.addEventListener("click",(()=>s(e[o].key)))}))},s=e=>{axios.get(`https://openlibrary.org${e}.json`).then((e=>c(e.data))).catch((()=>alert("Errore nel recupero della descrizione del libro.")))},c=e=>{alert(e.description?e.description.value||e.description:"Descrizione non disponibile.")}})();